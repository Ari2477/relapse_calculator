<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>calculator</title>

<style>
	body {
		margin:0;
		background:#0f0f12;
		font-family:Arial,sans-serif;
		color:white;
		display:flex;
		justify-content:center;
		align-items:center;
		height:100dvh;
		overflow:hidden;
	}

	.calculator {
		width:90vw;
		max-width:360px;
		background:#1a1c22;
		border-radius:18px;
		padding:22px;
		box-shadow:0 0 30px rgba(0,0,0,.6);
		display:grid;
		gap:15px;
		transform:scale(.96);
	}

	.display {
		background:#25272e;
		padding:12px;
		border-radius:10px;
		font-size:1.4rem;
		min-height:55px;
		display:flex;
		align-items:center;
		justify-content:flex-end;
		color:#f2f2f2;
		transition:.4s;
	}

	/* ❤️ beating animation */
	.beat {
		animation: heartbeat 1.1s infinite;
	}
	@keyframes heartbeat{
		0%{transform:scale(1);}
		50%{transform:scale(1.09);}
		100%{transform:scale(1);}
	}

	.buttons {
		display:grid;
		grid-template-columns:repeat(4,1fr);
		gap:10px;
	}

	button {
		padding:15px;
		font-size:1.4rem;
		border:none;
		border-radius:12px;
		background:#3b3e45;
		color:#fff;
		transition:.2s;
	}
	button:active {transform:scale(.94);}

	.equals {background:#34d399!important;}
	.reset {background:#ef4444!important;}
</style>
</head>

<body>

<div class="calculator">
	<div class="display" id="display"></div>

	<div class="buttons">
		<button>7</button><button>8</button><button>9</button><button class="reset">C</button>
		<button>4</button><button>5</button><button>6</button><button>/</button>
		<button>1</button><button>2</button><button>3</button><button>*</button>
		<button>0</button><button>.</button><button class="equals">=</button><button>+</button>
	</div>
</div>

<audio id="music" src="snaptik_7341969002148695302_v2.mp3" loop></audio>

<script>
	let display = document.getElementById("display");
	let music = document.getElementById("music");
	let phraseTimeouts = [];

	/* ✍ dito mo ilalagay lyrics/lines */
	let phrases = [
		["I MISS YOU :((", 2600],
	
	];

	document.querySelectorAll("button").forEach(btn=>{
		btn.addEventListener("click",()=>{
			if(btn.classList.contains("equals")) runSequence();
			else if(btn.classList.contains("reset")) resetAll();
			else display.textContent += btn.textContent;
		});
	});

	function runSequence(){
		resetAll();


		music.play().catch(()=>alert("Tap screen once then press = ulit para tumugtog"));

		display.classList.add("beat");

		let delay=0;
		phrases.forEach(([txt,time])=>{
			let t=setTimeout(()=>display.textContent=txt,delay);
			phraseTimeouts.push(t);
			delay+=time;
		});
	}

	function resetAll(){
		phraseTimeouts.forEach(t=>clearTimeout(t));
		phraseTimeouts=[];
		display.textContent="";
		display.classList.remove("beat");
		music.pause(); music.currentTime=0;
	}
</script>

</body>
</html>
